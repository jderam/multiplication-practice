<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiplication Practice</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }

        #problem {
            font-size: 24px;
            margin-bottom: 10px;
        }

        #result {
            font-size: 18px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <script src="https://unpkg.com/vue@3.4.0/dist/vue.global.prod.js"></script>

<h1>Multiplication Practice</h1>
<br><br>
<select id="multiples">
    <option value="random">Random</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
</select>
<br><br>
<div id="problem"></div>

<input type="number" id="answer" placeholder="Your Answer" autofocus>
<button onclick="submitAnswer()">Submit</button>

<div id="result"></div>

<script>
        const app = Vue.createApp({
            data() {
                return {
                    spell: {}
                }
            },
            computed: {
            },
            methods: {
                async getSpell() {
                    const url = `https://rpg-tools.onrender.com/hyperborea3/spells/${this.spell_id}`;
                    console.log(`url: ${url}`)
                    let response = await fetch(url);
                    if (response.ok) {
                        let spell = await response.json();
                        console.log(`spell: ${spell}`)
                        this.spell = spell;
                    } else {
                        alert("HTTP-Error: " + response.status);
                    }
                }
            },
            created() {
                let urlParams = new URLSearchParams(window.location.search);
                console.log(urlParams.has('spell_id')); // true
                console.log(urlParams.get('spell_id')); // "spell_id"
                if (urlParams.has('spell_id')) {
                    this.spell_id = urlParams.get('spell_id');
                } else {
                    this.spell_id = 1;
                }
                this.getSpell();
            },
            unmounted() {
                console.log('unmounted')
            }
        })
        app.mount('#app')



    // let currentProblemIndex = 0;
    // let score = 0;
    // let problems = generateProblems();

    // function generateProblems() {
    //     const multiples = document.getElementById("multiples").value;
    //     const allMultiples = multiples === "random" ? Array.from({ length: 10 }, (_, i) => i) : [parseInt(multiples)];

    //     return allMultiples.map(multiple => {
    //         const num1 = Math.floor(Math.random() * 11);
    //         const num2 = multiple;
    //         return { question: `${num1} x ${num2}`, answer: num1 * num2 };
    //     });
    // }

    // function displayProblem() {
    //     const problemElement = document.getElementById("problem");
    //     problemElement.textContent = problems[currentProblemIndex].question;
    // }

    // function submitAnswer() {
    //     const userAnswer = parseInt(document.getElementById("answer").value);
    //     const correctAnswer = problems[currentProblemIndex].answer;

    //     if (!isNaN(userAnswer)) {
    //         if (userAnswer === correctAnswer) {
    //             score++;
    //         }

    //         currentProblemIndex++;

    //         if (currentProblemIndex < 10) {
    //             displayProblem();
    //             document.getElementById("answer").value = "";
    //             document.getElementById("answer").focus();
    //         } else {
    //             showResult();
    //         }
    //     }
    // }

    // function showResult() {
    //     const resultElement = document.getElementById("result");
    //     resultElement.innerHTML = `<p>Score: ${score}/10</p>`;
    //     problems.forEach((problem, index) => {
    //         const userAnswer = parseInt(document.getElementById("answer").value);
    //         resultElement.innerHTML += `<p>Q: ${problem.question} | Your Answer: ${userAnswer} | Correct Answer: ${problem.answer}</p>`;
    //     });
    // }

    // displayProblem();
</script>

</body>
</html>
